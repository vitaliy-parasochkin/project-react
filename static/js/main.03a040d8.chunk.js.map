{"version":3,"sources":["components/Drawer/Card.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Info.jsx","components/Drawer/index.js","components/Header.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","replace","Info","image","title","description","setCartOpened","className","width","height","src","alt","to","onClick","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","opened","onRemove","items","useState","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","orderId","setOrderId","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisibility","drawer","map","imageUrl","style","backgroundImage","disabled","Header","props","onClickCart","Card","onPlus","onFavorite","favorited","isItemAdded","added","isFavorite","setIsFavorite","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","parentId","Home","searchValue","onChangeSearchInput","onAddToCard","setSearchValue","onAddToFavorite","onChange","value","placeholder","filtered","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","App","cartOpened","setItems","setFavorites","all","cartResponse","favoriteResponse","itemsResponse","fetchData","onAddToCart","findItem","find","Number","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.03a040d8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Card_overlay__33Lda\",\"overlayVisibility\":\"Card_overlayVisibility__d4lnY\",\"drawer\":\"Card_drawer__D71g1\",\"items\":\"Card_items__1-0Rp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3ct2z\",\"plus\":\"Card_plus__gl7Zg\",\"favorite\":\"Card_favorite__2PNLj\",\"card-wrapper\":\"Card_card-wrapper__oV-B6\"};","import React from \"react\";\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;","import React from 'react'\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n    const {cartItems, setCartItems} = React.useContext(AppContext)\r\n    const totalPrice = cartItems.reduce((sum, obj) => +obj.price.replace(/\\s+/g, '') + sum, 0);\r\n    \r\n    return { cartItems, setCartItems, totalPrice};\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({image, title,description}) => {\r\n    const {setCartOpened} = React.useContext(AppContext);\r\n    return (\r\n        <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n                        <img\r\n                            className=\"mb-20\"\r\n                            width=\"120px\"\r\n                            height=\"120px\"\r\n                            src={image}\r\n                            alt=\"emptyCart\"\r\n                        />\r\n                        <h2>{title}</h2>\r\n                        <p className=\"opacity-6\">\r\n                            {description}\r\n                        </p>\r\n                        <Link to=''>\r\n                            <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n                                <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n                                Вернуться назад\r\n                            </button>\r\n                        </Link> \r\n                    </div>\r\n    )\r\n}\r\n\r\nexport default Info;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { useCart } from '../../hooks/useCart';\r\nimport Info from \"../Info\";\r\n\r\nimport styles from './Card.module.scss'\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\n\r\nexport default function Drawer({onClose,opened, onRemove, items=[]}) {\r\n    const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n    const [orderId, setOrderId] = React.useState(null);\r\n    const { cartItems, setCartItems, totalPrice} = useCart();\r\n\r\n\r\n    const onClickOrder = async () => {\r\n        setIsLoading(true);\r\n        const {data} = await axios.post('https://611df8af7d273a0017e2f990.mockapi.io/orders', {items:cartItems});\r\n        setOrderId(data.id)\r\n        setIsOrderComplete(true)\r\n        setCartItems([]);\r\n\r\n        try {\r\n            for (let i = 0; i < cartItems.length; i++) {\r\n                const item = cartItems[i];\r\n                await axios.delete('https://611df8af7d273a0017e2f990.mockapi.io/cart/' + item.id);\r\n                await delay(1000);\r\n              }\r\n        \r\n        } catch (error) {\r\n            alert('Не удалось создать заказ')\r\n        }\r\n        setIsLoading(false)\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisibility : ''}`}>\r\n            <div className={`${styles.drawer}`}>\r\n                <h2 className=\"d-flex justify-between mb-30\">\r\n                    Корзина\r\n                    <img\r\n                        onClick={onClose}\r\n                        className=\"removeBtn cu-p\"\r\n                        src=\"img/btn-remove.svg\"\r\n                        alt=\"Remove\"\r\n                    />\r\n                </h2>\r\n                {items.length > 0 ? (\r\n                    <div className='d-flex flex-column flex'>\r\n                        <div className=\"items\">\r\n                            {items.map(({ id, title, price, imageUrl }) => (\r\n                                <div key={id} className=\"cartItem d-flex align-center mb-20\">\r\n                                    <div\r\n                                        style={{\r\n                                            backgroundImage: `url(${imageUrl})`,\r\n                                        }}\r\n                                        className=\"cartItemImg\"\r\n                                    ></div>\r\n\r\n                                    <div className=\"mr-20 flex\">\r\n                                        <p className=\"mb-5\">{title}</p>\r\n                                        <b>{price} руб.</b>\r\n                                    </div>\r\n                                    <div>\r\n                                        <img\r\n                                            onClick={() => onRemove(id)}\r\n                                            className=\"removeBtn\"\r\n                                            src=\"img/btn-remove.svg\"\r\n                                            alt=\"Remove\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"cartTotalBlock\">\r\n                            <ul>\r\n                                <li>\r\n                                    <span>Итого:</span>\r\n                                    <div></div>\r\n                                    <b>{totalPrice} руб.</b>\r\n                                </li>\r\n                                <li>\r\n                                    <span>Налог 5%:</span>\r\n                                    <div></div>\r\n                                    <b> {totalPrice/100*5} руб.</b>\r\n                                </li>\r\n                            </ul>\r\n                            <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                                Оформить заказ{\" \"}\r\n                                <img src=\"img/arrow.svg\" alt=\"arrow\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <Info \r\n                        image={isOrderComplete ? 'img/order-complete.jpg' :'img/empty-cart.jpg'} \r\n                        title={isOrderComplete? 'Заказ оформлен!':'Корзина пустая'} \r\n                        description = {isOrderComplete? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nexport default function Header(props) {\r\n    const { totalPrice } = useCart();\r\n\r\n    return (\r\n        <header className='d-flex justify-between align-center p-40'>\r\n        <Link to=\"/\">\r\n            <div className=\"d-flex align-center cu-p\">\r\n                <img className='mr-15' width={40} height={40} src=\"img/logo.png\" alt=\"Logotype\" />\r\n                <div>\r\n                    <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n                    <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n            <ul className='d-flex'>\r\n                <li onClick={props.onClickCart} className='mr-30 cu-p'><img width={18} height={18} src='img/cart.svg' alt='logo'/> <span>{totalPrice} руб.</span></li>\r\n                <li> <Link to = '/favorites'><img className='mr-20 cu-p' width={18} height={18} src='img/heart.svg' alt='heart'/></Link> </li>\r\n                <li> <Link to = '/orders'><img width={18} height={18} src='img/user.svg' alt='user'/></Link> </li>\r\n                <li>  </li>\r\n            </ul>\r\n        </header>\r\n    )\r\n}","import React, {useState, useContext} from 'react';\r\nimport styles from './Card.module.scss';\r\nimport ContentLoader from \"react-content-loader\"\r\nimport AppContext from '../../context';\r\n\r\nexport default function Card({isLoading,title,price,imageUrl, onPlus, onFavorite, id, favorited = false, added= false}) {\r\n    \r\n    const {isItemAdded} = useContext(AppContext);\r\n    const [isFavorite, setIsFavorite] = useState(favorited)\r\n\r\n\r\n    const onClickPlus = () => {\r\n        onPlus({id ,parentId:id,title, price, imageUrl})\r\n    }\r\n\r\n    const onClickHeart = () => {\r\n        onFavorite({id,title, price, imageUrl})\r\n        setIsFavorite(!isFavorite);\r\n    }\r\n    return (\r\n        <div className={styles.card}>\r\n            {isLoading ? (\r\n                <ContentLoader\r\n                    speed={2}\r\n                    width={210}\r\n                    height={260}\r\n                    viewBox=\"0 0 210 260\"\r\n                    backgroundColor=\"#f3f3f3\"\r\n                    foregroundColor=\"#ecebeb\"\r\n                >\r\n                    <rect\r\n                        x=\"0\"\r\n                        y=\"36\"\r\n                        rx=\"10\"\r\n                        ry=\"10\"\r\n                        width=\"150\"\r\n                        height=\"91\"\r\n                    />\r\n                    <rect x=\"0\" y=\"143\" rx=\"2\" ry=\"2\" width=\"150\" height=\"15\" />\r\n                    <rect x=\"0\" y=\"162\" rx=\"2\" ry=\"2\" width=\"93\" height=\"15\" />\r\n                    <rect x=\"0\" y=\"199\" rx=\"3\" ry=\"3\" width=\"80\" height=\"24\" />\r\n                    <rect\r\n                        x=\"115\"\r\n                        y=\"191\"\r\n                        rx=\"10\"\r\n                        ry=\"10\"\r\n                        width=\"32\"\r\n                        height=\"32\"\r\n                    />\r\n                </ContentLoader>\r\n            ) : (\r\n                <>\r\n                    {onFavorite && \r\n                        <div onClick={onClickHeart} className={styles.favorite}>\r\n                            <img\r\n                                src={\r\n                                    isFavorite\r\n                                        ? \"img/heart-liked.svg\"\r\n                                        : \"img/heart-unliked.svg\"\r\n                                }\r\n                                alt=\"unliked\"\r\n                            />\r\n                        </div>\r\n                    }\r\n                    <img\r\n                        width={133}\r\n                        height={112}\r\n                        src={imageUrl}\r\n                        alt=\"Sneakers\"\r\n                    />\r\n                    <h5>{title}</h5>\r\n                    <div className=\"d-flex justify-between\">\r\n                        <div className=\"d-flex flex-column\">\r\n                            <span>Цена:</span>\r\n                            <b>{price} руб.</b>\r\n                        </div>\r\n                        {onPlus && \r\n                            <div className={styles.plus} onClick={onClickPlus}>\r\n                                <img\r\n                                    src={\r\n                                        isItemAdded(id)\r\n                                            ? \"img/btn-checked.svg\"\r\n                                            : \"img/btn-plus.svg\"\r\n                                    }\r\n                                    alt=\"Plus\"\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import Card from \"../components/Card\"\r\n\r\nfunction Home({isLoading, searchValue,  onChangeSearchInput, onAddToCard, setSearchValue,items,  onAddToFavorite,}) {\r\n    \r\n\r\n    const renderItems = () => {\r\n\r\n        const filtered = items.filter(item => item.title.toLowerCase().includes(searchValue.toLowerCase()));\r\n        return (isLoading ? [...Array(12)] : filtered).map((obj, index) => (\r\n            <Card \r\n                onPlus={(obj) => onAddToCard(obj)}\r\n                onFavorite={(obj) => onAddToFavorite(obj)}\r\n                key={index}\r\n                isLoading = {isLoading}\r\n                {...obj}\r\n            />\r\n        ))\r\n    }\r\n    return (\r\n        <div className='content p-40'>\r\n            <div className='d-flex align-center mb-40 justify-between'>\r\n                <h1>{searchValue ? `Поиск по запросу: '${searchValue}' ` : 'Все кроссовки'}</h1>\r\n                <div className='search-block'>\r\n                    <img src='img/search.svg' alt='Search'/>\r\n                    {searchValue ? <img onClick={() => setSearchValue('')} className=\"clear cu-p\" src=\"img/btn-remove.svg\" alt=\"Close\" /> : null}\r\n                    <input onChange={onChangeSearchInput} value={searchValue} placeholder='Search'/>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className='card-wrapper d-flex flex-wrap'>\r\n                {renderItems()} \r\n                \r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport Card from \"../components/Card\";\r\nimport Info from \"../components/Info\";\r\nimport AppContext from \"../context\";\r\n\r\nfunction Favorites({items}) {\r\n    const {favorites, onAddToFavorite} = React.useContext(AppContext);\r\n    \r\n    return (\r\n        <div className='content p-40'>\r\n            <div className='d-flex align-center mb-40 justify-between'>\r\n                <h1>Мои закладки</h1>\r\n                \r\n            </div>\r\n            \r\n            {\r\n                favorites.length > 0 ?\r\n                    <div className='card-wrapper d-flex flex-wrap'>\r\n                        {favorites.map((obj, index) => (\r\n                            <Card \r\n                                key={index}\r\n                                favorited = {true}\r\n                                onFavorite={onAddToFavorite}\r\n                                imageUrl={obj.imageUrl}\r\n                                title={obj.title}\r\n                                price={obj.price}\r\n                                id={obj.id}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                    :\r\n                    <Info image='img/face-favorites.svg' title='Закладок нет' description='Вы ничего не добавляли в закладки'/>\r\n            }\r\n\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favorites;","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport Card from \"../components/Card\";\r\nimport Info from \"../components/Info\";\r\n\r\nfunction Orders() {\r\n    const [ orders, setOrders] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\r\n    React.useEffect(() => {\r\n        (async() =>{\r\n            try {\r\n                const { data } = await axios.get('https://611df8af7d273a0017e2f990.mockapi.io/orders');\r\n                setOrders(data.reduce((prev, obj) => [...prev, ...obj.items],[]));\r\n                setIsLoading(false);\r\n            } catch (error) {\r\n                alert('Ошибка при отправке заказов');\r\n                console.error(error);\r\n            }\r\n        })()\r\n    }, [])\r\n\r\n    return (\r\n        <div className='content p-40'>\r\n            <div className='d-flex align-center mb-40 justify-between'>\r\n                <h1>Мои заказы</h1>\r\n                \r\n            </div>\r\n            \r\n            {orders.length > 0 ? \r\n                <div className='card-wrapper d-flex flex-wrap'>\r\n                {(isLoading ? [...Array(12)] : orders).map((obj, index) => (\r\n                    <Card \r\n                        key={index}\r\n                        isLoading = {isLoading}\r\n                        {...obj}\r\n                    />\r\n                ))}\r\n                </div>\r\n                :\r\n                <Info image='img/face-orders.svg' title='У вас нет заказов' description='Оформите хотя бы один заказ'/>}\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders;","import React, {useState, useEffect} from \"react\";\nimport axios from 'axios';\nimport Drawer from \"./components/Drawer\";\nimport Header from \"./components/Header\";\nimport Home from \"./pages/Home\";\nimport { Route } from 'react-router-dom';\nimport Favorites from \"./pages/Favorites\";\nimport AppContext from \"./context\";\nimport Orders from \"./pages/Orders\";\n\n\nfunction App() {\n   \n    const [cartOpened, setCartOpened] = useState(false);\n    const [items, setItems] = useState([]);\n    const [favorites, setFavorites] = useState([]);\n    const [searchValue, setSearchValue] = useState('');\n    const [cartItems, setCartItems] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    useEffect(() => {\n        async function fetchData() {\n            try { \n                const [ cartResponse, favoriteResponse, itemsResponse] = await Promise.all([\n                    axios.get('https://611df8af7d273a0017e2f990.mockapi.io/cart'), \n                    axios.get('https://611df8af7d273a0017e2f990.mockapi.io/favorites'),\n                    axios.get('https://611df8af7d273a0017e2f990.mockapi.io/sneakers')])\n                \n                setIsLoading(false);\n                setCartItems(cartResponse.data);\n                setFavorites(favoriteResponse.data);\n                setItems(itemsResponse.data);\n            } catch (error) {\n                alert('Ошибка при запросе данных :(')\n            }\n        }\n        fetchData()\n    }, []);\n    \n    const onRemoveCard = (id) => {\n        axios.delete(`https://611df8af7d273a0017e2f990.mockapi.io/cart/${id}`);\n        setCartItems((items) => items.filter(obj => obj.id !== id))\n\n    }\n\n    const onAddToCart = async (obj) => {\n        try {\n          const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\n          if (findItem) {\n            setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n            await axios.delete(`https://611df8af7d273a0017e2f990.mockapi.io/cart/${findItem.id}`);\n          } else {\n            setCartItems((prev) => [...prev, obj]);\n            const { data } = await axios.post('https://611df8af7d273a0017e2f990.mockapi.io/cart', obj);\n            setCartItems((prev) =>\n              prev.map((item) => {\n                if (item.parentId === data.parentId) {\n                  return {\n                    ...item,\n                    id: data.id,\n                  };\n                }\n                return item;\n              }),\n            );\n          }\n        } catch (error) {\n          alert('Ошибка при добавлении в корзину');\n          console.error(error);\n        }\n      };\n\n    const onAddToFavorite = async (obj) => {\n        if (favorites.find(favObj => Number(favObj.id) === Number(obj.id))) {\n            axios.delete(`https://611df8af7d273a0017e2f990.mockapi.io/favorites/${obj.id}`);\n            setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)))\n        } else {\n            const {data} = await axios.post('https://611df8af7d273a0017e2f990.mockapi.io/favorites', obj);\n            setFavorites((favorites) => [...favorites, data])\n        }\n        \n    }\n    \n    const onChangeSearchInput = (event) => {\n        setSearchValue(event.target.value);\n    } \n\n    const isItemAdded = (id) => {\n        return cartItems.some((obj) => Number(obj.parentId) === Number(id))\n    }\n\n    return (\n       <AppContext.Provider value={{items, onAddToCart, cartItems, favorites, isItemAdded, onAddToFavorite, setCartOpened, setCartItems}}>\n            <div className=\"wrapper clear\">\n                <Drawer onRemove={onRemoveCard} items={cartItems} onClose={() => setCartOpened(false)} opened={cartOpened}/>\n                <Header onClickCart={() => setCartOpened(true)}/>\n                <Route path='' exact><Home\n                    searchValue = {searchValue}\n                    setSearchValue = {setSearchValue}\n                    onChangeSearchInput = {onChangeSearchInput}\n                    cartItems = {cartItems}\n                    items = {items}\n                    onAddToCard = {onAddToCart}\n                    onAddToFavorite= {onAddToFavorite}\n                    isLoading = {isLoading}\n                /></Route>\n\n                <Route path='favorites' exact>\n                    <Favorites/>\n                </Route>\n\n                <Route path='orders' exact>\n                    <Orders/>\n                </Route>\n            </div>\n       </AppContext.Provider>\n    )\n    \n;}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { BrowserRouter as Router } from 'react-router-dom'; \nimport App from './App';\nimport 'macro-css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}